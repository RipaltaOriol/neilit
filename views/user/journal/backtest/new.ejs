<%- include("../../../partials/header-log") %>

  <!-- CONTENT -->
  <div class="container mt-3 mb-5 mx-auto">
    <div class="journal-box px-0">
      <form action="/<%= currentUser.username %>/journal/backtest" method="POST">
        <h3 class="mx-3">Creat Backtesting</h3>
        <hr>
        <div class="mx-3 mb-3">
          <h5>Divisas</h5>
          <span>
            <label class="checkbox-orange my-auto">
              Múltiples pares de divisas
              <input type="radio" name="pairs" value="0" onclick="letPair(false);" checked>
              <span class="checkmark"></span>
            </label>
          </span>
          <span class="input-group">
            <label class="checkbox-orange my-auto">
              Solo una divisa
              <input type="radio" name="pairs" value="1" onclick="letPair(true);">
              <span class="checkmark"></span>
            </label>
            <select id="backtest-pair" name="selectPair" class="custom-select p-1" disabled>
              <% for (var i = 0; i < currencies.length; i++) { %>
                <option value="<%= i %>"><%= currencies[i] %></option>
              <% } %>
            </select>
          </span>
        </div>
        <div class="mx-3 mb-3">
          <h5>Dirección</h5>
          <span>
            <label class="checkbox-orange my-auto">
              Compra y Venta
              <input type="radio" name="direction" value="0" checked>
              <span class="checkmark"></span>
            </label>
          </span>
          <span>
            <label class="checkbox-orange my-auto">
              Solo Compra
              <input type="radio" name="direction" value="1">
              <span class="checkmark"></span>
            </label>
          </span>
          <span>
            <label class="checkbox-orange my-auto">
              Solo Venta
              <input type="radio" name="direction" value="-1">
              <span class="checkmark"></span>
            </label>
          </span>
        </div>
        <div class="mx-3 mb-3">
          <h5>Resultados de las operaciones</h5>
          <span>
            <label class="checkbox-orange my-auto">
              En Risk-Reward ratio (Rs)
              <input type="radio" name="outcome" value="r">
              <span class="checkmark"></span>
            </label>
          </span>
          <span>
            <label class="checkbox-orange my-auto">
              En porcentaje (%)
              <input type="radio" name="outcome" value="%">
              <span class="checkmark"></span>
            </label>
          </span>
        </div>
        <br>
        <h3 class="mx-3">Específicos</h3>
        <hr>
        <div class="mx-3 mb-3">
          <h5>Periodo de tiempo</h5>
          <span>
            <label class="checkbox-orange my-auto">
              Múltiples periodos de tiempo (timeframes)
              <input type="radio" name="timeframe" value="0" onclick="letTimeframe(false);" checked>
              <span class="checkmark"></span>
            </label>
          </span>
          <span class="input-group">
            <label class="checkbox-orange my-auto">
              Solo un periodo de tiempo (timeframe)
              <input type="radio" name="timeframe" value="1" onclick="letTimeframe(true);">
              <span class="checkmark"></span>
            </label>
            <select id="backtest-timeframe" name="selectTimeframe" class="custom-select p-1" disabled>
              <% for (var i = 0; i < timeframes.length; i++) { %>
                <option value="<%= i %>"><%= timeframes[i] %></option>
              <% } %>
            </select>
          </span>
        </div>
        <div class="mx-3 mb-3">
          <h5>Estrategias</h5>
          <span>
            <label class="checkbox-orange my-auto">
              Múltiples estrategias
              <input type="radio" name="strategy" value="0" onclick="letStrategy(false);" checked>
              <span class="checkmark"></span>
            </label>
          </span>
          <span class="input-group">
            <label class="checkbox-orange my-auto">
              Solo una estrategia
              <input type="radio" name="strategy" value="1" onclick="letStrategy(true);">
              <span class="checkmark"></span>
            </label>
            <select id="backtest-strategy" name="selectStrategy" class="custom-select p-1" disabled>
              <% for (var i = 0; i < strategies.length; i++) { %>
                <option value="<%= i %>"><%= strategies[i] %></option>
              <% } %>
            </select>
          </span>
        </div>
        <br>
        <h3 class="mx-3">Addons</h3>
        <hr>
        <div class="mx-3">
          <div id="addons">
            <!-- backtest addons go here -->
          </div>
          <button id="addon" type="button" onclick="addList();">
            <img src="/imgs/icons/addon.svg" alt="create a new addon">
            Añade otro parámetro
          </button>
        </div>
        <div class="d-flex justify-content-end mx-3">
          <button id="submit-backtest" type="submit" class="btn-neilit">Crear</button>
        </div>
      </form>
    </div>
  </div>

<script type="text/javascript">
  var addons = <%- JSON.stringify(addons) %>;
</script>

<!-- <section> is inside partials -->
</section>

<!-- JQUERY -->
<script type="text/javascript" src="/utilities/jquery/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="/utilities/bootstrap/js/popper.min.js"></script>
<script type="text/javascript" src="/utilities/jquery/jquery-ui.min.js"></script>
<script type="text/javascript" src="/utilities/bootstrap/js/bootstrap.min.js"></script>
<!-- LOCAL SCRIPTS -->
<script type="text/javascript" src="/js/backtest.js"></script>

<%- include("../../../partials/footer-log") %>
