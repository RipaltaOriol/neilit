<%- include("../../partials/header-sub") %>

  <!-- CONTENT -->
  <div id="initial-user-screen" class="mt-3 mx-4">

  <!-- NOTE: CHANGE THE ENTRY NAMING CONVENTIN TO TA -->
  <!-- WARNING: There have been some changes, taket the difrernce and use
        the original ejs as the skeleton -->
  <!-- ********************************************* -->

    <!-- NEW ENTRY -->
    <div id="edit-ta" class="entries my-4">
      <form action="/username/journal/ta/<%= thisTaID %>?_method=PUT" method="POST">
        <h5><strong>Análisis Técnico</strong>: <%= taTitle %> [by <%= user %>]</h5>
        <hr>
        <div class="d-flex flex-wrap mb-3">
          <select id="ta-pair" name="pair" class="entry-pair custom-select py-1 mx-4 my-1 view-ta">
            <% for (var c = 0; c < currencies.length; c++) { %>
              <option value="<%= currencies[c] %>" class="valid"><%= currencies[c] %></option>
            <% } %>
          </select>
          <div class="entry-category mx-4 my-1">
            <label for="size" class="my-0 mr-1">Categoría</label>
            <input type="text" class="field-input" name="category" value="<%= taInfo.category %>">
          </div>
          <div class="entry-date mx-4 my-1">
            <label for="size" class="my-0 mr-1">Fecha</label>
            <input id="ta-date" type="text" class="field-input" name="date" value="">
          </div>
        </div>
        <hr>
        <div id="ta-user-content" class="">
        <!-- START: user content -->

        </div>
        <!-- END: user content -->
        <div class="btn-group dropright mt-2">
          <button type="button" id="add-ta-element" class="btn btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Agregar elemento
          </button>
          <div class="dropdown-menu">
            <a id="ta_new_title" class="dropdown-item">Titulo</a>
            <a id="ta_new_image" class="dropdown-item">Imagen</a>
            <a id="ta_new_text" class="dropdown-item">Texto</a>
            <a id="ta_new_strategy" class="dropdown-item">Estrategia</a>
          </div>
        </div>
        <div class="d-flex justify-content-end">
          <a href="../../" class="ml-2 px-3 py-2 default-btn"> Cancelar</a>
          <button id="update-ta" type="submit" name="delete" class="ml-2 px-3 py-2 default-btn">Guardar</button>
        </div>
      </form>
      <button type="button" name="button" onclick="getpgelements();">Get elements</button>
    </div>
  </div>


<!-- <section> is inside partials -->
</section>



<script>
   // This function is only to show existing TA's so it could be a separate JS field
   var taObject;
   var taObject = <%- JSON.stringify(taInfo) %>;
   var strategies = <%- JSON.stringify(strategies) %>;
   var timeframes = <%- JSON.stringify(timeframes) %>;
</script>

<%- include("../../partials/footer-sub") %>
