<%- include("../../partials/header-plan") %>

  <!-- CONTENT -->
  <section id="new-plan">
    <div class="container mt-3 mb-5 mx-auto">
      <div class="journal-box px-0">
        <form action="" method="POST">
          <input id="title" class="mx-3" type="text" name="title" placeholder="Title for the Trading Plan">
          <hr>
          <div class="d-flex justify-content-between mx-3">
            <div id="document" class="w-75">

              <!-- General Information -->
              <div id="general" class="mb-4">
                <h5>General Information:</h5>
                <div id="broker">
                  <span>Broker:</span>
                  <input type="text" class="bg-hover w-75 p-1 ml-1" name="broker" placeholder="name of your broker">
                </div>
                <div id="charts">
                  <span>Charts:</span>
                  <input type="text" class="bg-hover w-75 p-1 ml-1" name="charts" placeholder="what charts do you use?">
                </div>
                <div id="capital">
                  <span>Trading Capital:</span>
                  <input type="text" class="bg-hover w-75 p-1 ml-1" name="capital" placeholder="trading capital available (in account base currency)">
                </div>
                <div id="routine">
                  <span>Business Routine</span>
                  <div id="routine" class="diveditable bg-hover w-75 p-1" placeholder="Explain your business routine" contenteditable="true"></div>
                </div>
              </div>

              <!-- Strategies -->
              <div id="strategy" class="mb-4">
                <h5>Strategies</h5>

              </div>

              <!-- Psychology -->
              <div id="psychology" class="mb-4">
                <h5>Psychology</h5>
                <div id="psychology-notes">
                  <span>Notes</span>
                  <div class="diveditable bg-hover w-75 p-1" placeholder="Any additional notes on trading psychology?" contenteditable="true"></div>
                </div>
              </div>

              <!-- Journaling -->
              <div id="journal" class="mb-4">
                <h5>Journaling</h5>
                <div id="journaling">
                  <span>Journaling Process</span>
                  <div class="diveditable bg-hover w-75 p-1" placeholder="How do you plan to journal?" contenteditable="true"></div>
                </div>
                <div id="checklist">
                  <span class="d-flex align-items-center">
                    Journaling Checklist
                    <img class="info ml-2" src="/imgs/icons/info.svg" data-toggle="tooltip" data-placement="right" title="What items do you want to keep track of in your journal">
                  </span>
                  <input id="addTrack" class="bg-hover w-75 p-1" type="text" name="journal-checklits" placeholder="Add something to include in you jouranl entries">
                  <ul id="listJournalItems" class="pl-0 mb-2">

                  </ul>
                  <button class="btn-neilit" type="button" onclick="resetChecklist();">Reset checklist</button>
                </div>
              </div>

              <!-- Objectives -->
              <div id="goals" class="mb-4">
                <h5>Objectives</h5>
                <div id="" class="input-group mb-2">
                  <input id="objective" type="text" class="form-control bg-hover p-1" aria-label="Choose an objective type" placeholder="New Objective">
                  <div class="input-group-append">
                    <button class="dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dropdown</button>
                    <div class="dropdown-menu py-0">
                      <a id="accountBtn" class="dropdown-item py-1" onclick="addGoal('objectiveAccount')" href="#!">Account Goal</a>
                      <div role="separator" class="dropdown-divider"></div>
                      <a id="nonFinancialBtn" class="dropdown-item py-1" onclick="addGoal('objectiveNonfin')" href="#!">Financial Goal</a>
                      <div role="separator" class="dropdown-divider"></div>
                      <a id="financialBtn" class="dropdown-item py-1" onclick="addGoal('objectiveFin')" href="#!">Non-Financial Goal</a>
                    </div>
                  </div>
                </div>
                <div id="accountGoals">
                  <p class="mb-1">
                    <strong>Account Objectives (max. 5)</strong>
                  </p>
                  <ul id="objectiveAccount" class="pl-0">

                  </ul>
                </div>
                <div id="nonFinancialGoals">
                  <p class="mb-1">
                    <strong>Non-Financial Objectives</strong>
                  </p>
                  <ul id="objectiveNonfin" class="pl-0">

                  </ul>
                </div>
                <div id="financialGoals">
                  <p class="mb-1">
                    <strong>Financial Objectives</strong>
                  </p>
                  <ul id="objectiveFin" class="pl-0">

                  </ul>
                </div>
              </div>

              <!-- Others -->
              <div id="others" class="mb-4">
                <h5>Others</h5>
                <div id="strategy-revision">
                  <span>Strategy Revision</span>
                  <div class="diveditable bg-hover w-75 p-1" placeholder="Notes on the strategy revision process" contenteditable="true"></div>
                </div>
                <div id="journal-revision">
                  <span>Journal Revision</span>
                  <div class="diveditable bg-hover w-75 p-1" placeholder="Notes on the journal revision process" contenteditable="true"></div>
                </div>
                <div id="plan-revision">
                  <span>Trading Plan Revision</span>
                  <div class="diveditable bg-hover w-75 p-1" placeholder="Notes on the trading plan revision process" contenteditable="true"></div>
                </div>
              </div>

            </div>
            <!-- // FIXME: make a scrollspy work -->
            <div id="scheme" class="list-group">
              <a class="" href="#general">General Info</a>
              <a class="" href="#setup">Setup</a>
              <a class="" href="#position">Positioning</a>
              <a class="" href="#psychology">Psychology</a>
              <a class="" href="#journal">Journaling</a>
              <a class="" href="#goals">Objectives</a>
            </div>
          </div>
          <div class="d-flex justify-content-end mx-3">
            <button id="submit-plan" type="submit" class="btn-neilit">Crear</button>
          </div>
        </form>
      </div>
    </div>
  </section>

<script type="text/javascript">
  var elements = <%- JSON.stringify(elements) %>;
</script>

<!-- <section> is inside partials -->
</section>

<%- include("../../partials/footer-plan") %>
